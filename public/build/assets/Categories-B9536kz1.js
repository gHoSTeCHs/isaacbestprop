import{r as h,W as k,j as e,Y as M}from"./app-BghAkaXO.js";import{A as S,B as u}from"./AuthenticatedLayout-eG5NVMt0.js";import{I as n}from"./InputLabel-DuX5Bep1.js";import{T as D}from"./TextInput-CDolgDmu.js";import{I as m}from"./InputError-C6iEW-hG.js";import{M as T}from"./ImageInput-BN8qAHhh.js";import{T as A}from"./TextArea-C5jbS14n.js";import{P as F}from"./PrimaryButton-fiJj4S_7.js";import{M as E}from"./Modal-DPnzH2Gs.js";import{i as $}from"./images-8zAcQ_aW.js";import{T as B}from"./trash-CPtbsS1A.js";import"./ApplicationLogo-DnzFK7gt.js";import"./transition-CyeRop-8.js";import"./createLucideIcon-CPr1j46X.js";const U=({categories:i})=>{const[c,l]=h.useState(!1),[t,g]=h.useState(),f=()=>{l(!1)},{data:x,setData:o,errors:r,post:j,processing:v,reset:b,delete:N}=k({title:"",description:"",image:[]}),w=s=>{s.preventDefault(),j(route("admin.category.create"),{onSuccess:()=>{b("title","image","description"),u.success("Category created successfully")}})},C=s=>{N(route("admin.delete",s),{onSuccess:()=>{c&&f(),u.success("Category deleted successfully")}})},y=s=>{o("image",s)};return e.jsxs(S,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Create and View Categories"}),children:[e.jsx(M,{title:"Dashboard"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg p-4",children:[e.jsxs("div",{className:"flex flex-col gap-4 container max-w-[600px]",children:[e.jsx(E,{show:c,onClose:()=>l(!1),children:e.jsxs("div",{className:"p-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Delete Category"}),e.jsxs("p",{children:['Are you sure you want to delete the category "',t==null?void 0:t.title,'"?']}),e.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[e.jsx("button",{onClick:()=>l(!1),className:"bg-gray-500 text-white px-4 py-2 rounded",children:"Cancel"}),e.jsx("button",{onClick:()=>C(t==null?void 0:t.id),className:"bg-red-600 text-white px-4 py-2 rounded",children:"Delete"})]})]})}),e.jsxs("form",{className:"flex flex-col gap-4",onSubmit:w,encType:"multipart/form-data",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"title",value:"Title"}),e.jsx(D,{id:"title",type:"text",name:"title",value:x.title,className:"mt-1 block w-full",autoComplete:"title",isFocused:!0,onChange:s=>o("title",s.target.value)}),e.jsx(m,{message:r.title,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"description",value:"Description"}),e.jsx(A,{name:"description",className:"mt-1 block w-full",autoComplete:"description",onChange:s=>o("description",s.target.value)}),e.jsx(m,{message:r.description,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"image",value:"Category Image"}),e.jsx(T,{id:"image",name:"image",value:x.image,onChange:y}),e.jsx(m,{message:r.image,className:"mt-2"})]}),e.jsx("div",{className:"inline-block",children:e.jsx(F,{className:"ms-4",disabled:v,children:"Submit"})})]})]}),e.jsx("div",{children:e.jsx("div",{className:" grid grid-col-1 md:grid-cols-2 lg:grid-cols-3 gap-4 place-items-center mt-10",children:i==null?void 0:i.map((s,I)=>{var p;let a;const d=(p=s.image.path)==null?void 0:p.split("/");return d[0]=="https:"?a=s.image.path:d[0]=="uploads"&&(a=`${window.location.origin}/storage/${s.image.path}`),d||(a=$.fallback,console.log(a)),e.jsxs("div",{className:"relative flex flex-col gap-2 justify-center p-4 max-w-[300px] h-[428px] border border-border rounded-xl hover:scale-105 hover:bg-background-secondary/30 transition-all",children:[e.jsx("img",{loading:"lazy",src:`${a}`,alt:s.title,className:"w-full h-[200px] object-cover rounded-xl"}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("h1",{className:"text-xl font-semibold",children:s.title}),e.jsx("p",{className:"text-sm text-txt",children:s.description})]}),e.jsx(B,{className:"absolute font-bold text-red-600 top-6 right-6",onClick:()=>{l(!0),g(s)}})]},I)})})})]})})})})]})};export{U as default};
