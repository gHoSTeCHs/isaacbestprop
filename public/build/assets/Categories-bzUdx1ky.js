import{r as p,W as I,j as e,Y as k}from"./app-DluYvmMS.js";import{A as M,B as h}from"./AuthenticatedLayout-CzBciLRy.js";import{I as d}from"./InputLabel-DrouqnrB.js";import{T as S,I as n}from"./InputError-BMSeMhlH.js";import{T as D,M as T}from"./TextArea-Pin7E1eM.js";import{P as A}from"./PrimaryButton-Cr1G7A3Z.js";import{M as F}from"./Modal-C26-05M4.js";import{T as E}from"./trash-BOYgGq54.js";import"./ApplicationLogo-CUzsqygN.js";import"./transition-CUrzPnAE.js";import"./createLucideIcon-B09UvLv5.js";const G=({categories:l})=>{const[m,a]=p.useState(!1),[t,u]=p.useState(),g=()=>{a(!1)},{data:c,setData:i,errors:r,post:j,processing:f,reset:v,delete:b}=I({title:"",description:"",image:[]}),N=s=>{s.preventDefault(),j(route("admin.category.create"),{onSuccess:()=>{v("title","image","description"),h.success("Category created successfully")}})},w=s=>{b(route("admin.delete",s),{onSuccess:()=>{m&&g(),h.success("Category deleted successfully")}})},C=s=>{i("image",s)};return e.jsxs(M,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Create and View Categories"}),children:[e.jsx(k,{title:"Dashboard"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg p-4",children:[e.jsxs("div",{className:"flex flex-col gap-4 container max-w-[600px]",children:[e.jsx(F,{show:m,onClose:()=>a(!1),children:e.jsxs("div",{className:"p-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Delete Category"}),e.jsxs("p",{children:['Are you sure you want to delete the category "',t==null?void 0:t.title,'"?']}),e.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[e.jsx("button",{onClick:()=>a(!1),className:"bg-gray-500 text-white px-4 py-2 rounded",children:"Cancel"}),e.jsx("button",{onClick:()=>w(t==null?void 0:t.id),className:"bg-red-600 text-white px-4 py-2 rounded",children:"Delete"})]})]})}),e.jsxs("form",{className:"flex flex-col gap-4",onSubmit:N,encType:"multipart/form-data",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"title",value:"Title"}),e.jsx(S,{id:"title",type:"text",name:"title",value:c.title,className:"mt-1 block w-full",autoComplete:"title",isFocused:!0,onChange:s=>i("title",s.target.value)}),e.jsx(n,{message:r.title,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"description",value:"Description"}),e.jsx(D,{name:"description",className:"mt-1 block w-full",autoComplete:"description",onChange:s=>i("description",s.target.value)}),e.jsx(n,{message:r.description,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"image",value:"Category Image"}),e.jsx(T,{id:"image",name:"image",value:c.image,onChange:C}),e.jsx(n,{message:r.image,className:"mt-2"})]}),e.jsx("div",{className:"inline-block",children:e.jsx(A,{className:"ms-4",disabled:f,children:"Submit"})})]})]}),e.jsx("div",{children:e.jsx("div",{className:" grid grid-col-1 md:grid-cols-2 lg:grid-cols-3 gap-4 place-items-center mt-10",children:l==null?void 0:l.map((s,y)=>{let o;const x=s.image.path.split("/");return x[0]=="https:"?o=s.image.path:x[0]=="uploads"&&(o=`${window.location.origin}/storage/${s.image.path}`),e.jsxs("div",{className:"relative flex flex-col gap-2 justify-center p-4 max-w-[300px] h-[428px] border border-border rounded-xl hover:scale-105 hover:bg-background-secondary/30 transition-all",children:[e.jsx("img",{loading:"lazy",src:`${o}`,alt:s.title,className:"w-full h-[200px] object-cover rounded-xl"}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("h1",{className:"text-xl font-semibold",children:s.title}),e.jsx("p",{className:"text-sm text-txt",children:s.description})]}),e.jsx(E,{className:"absolute font-bold text-red-600 top-6 right-6",onClick:()=>{a(!0),u(s)}})]},y)})})})]})})})})]})};export{G as default};
