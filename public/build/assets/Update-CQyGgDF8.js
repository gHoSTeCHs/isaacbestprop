import{W as y,j as e,Y as C}from"./app-DluYvmMS.js";import{A as w,B as d}from"./AuthenticatedLayout-CzBciLRy.js";import{I as m}from"./InputLabel-DrouqnrB.js";import{T as r,I as n}from"./InputError-BMSeMhlH.js";import{T as k,M as F}from"./TextArea-Pin7E1eM.js";import{P as A}from"./PrimaryButton-Cr1G7A3Z.js";import{S as I}from"./select-CLhX4tz-.js";import"./ApplicationLogo-CUzsqygN.js";import"./transition-CUrzPnAE.js";import"./createLucideIcon-B09UvLv5.js";import"./chevron-down-DY3uFSBh.js";const $=({property:o,categories:u})=>{const{data:t,setData:a,patch:x,processing:h,errors:i,reset:_}=y({title:o.title,category:o.category||"",description:o.description,amenities:o.amenities||[],location:o.location,bathrooms:o.bathrooms,bedrooms:o.bedrooms,price:o.price,video_url:o.video_url||"",sold:o.sold,images:o.images||[]}),g=u.map(s=>s.title),p=()=>{a("amenities",[...t.amenities,{amenity:""}])},j=s=>{const l=t.amenities.filter((c,f)=>f!==s);a("amenities",l)},v=(s,l)=>{const c=[...t.amenities];c[s]={amenity:l.target.value},a("amenities",c)},b=s=>{a("images",s)},N=async s=>{s.preventDefault();const l=o.id;try{await x(route("admin.properties.update",l),{onSuccess:()=>{d.success("Property Updated")}})}catch{d.error("Something went wrong")}};return e.jsxs(w,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Update Property"}),children:[e.jsx(C,{title:"Dashboard"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg p-4",children:e.jsx("div",{className:"flex flex-col gap-4 container max-w-[600px]",children:e.jsxs("form",{className:"flex flex-col gap-4",onSubmit:N,encType:"multipart/form-data",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"title",value:"Title"}),e.jsx(r,{id:"title",type:"text",name:"title",value:t.title,className:"mt-1 block w-full",autoComplete:"title",isFocused:!0,onChange:s=>a("title",s.target.value)}),e.jsx(n,{message:i.title,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"categoryId",value:"Category"}),e.jsx(I,{id:"Categories",name:"category",onChange:s=>a("category",s),title:"category",values:g}),e.jsx(n,{message:i.category,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"description",value:"Description"}),e.jsx(k,{name:"description",defaultValue:t.description,className:"mt-1 block w-full",autoComplete:"description",onChange:s=>a("description",s.target.value)}),e.jsx(n,{message:i.description,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"amenities",value:"Amenities"}),e.jsxs("div",{className:"flex flex-col gap-2",children:[t.amenities.map((s,l)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx(r,{id:`amenity-${l}`,type:"text",name:`amenities[${l}].amenity`,value:s.amenity,onChange:c=>v(l,c),placeholder:"Enter an amenity",className:"block w-full"}),e.jsx("button",{type:"button",onClick:()=>j(l),className:"bg-red-500 text-white p-2 rounded",children:"Remove"})]},l)),e.jsx("button",{type:"button",onClick:p,className:"mt-2 bg-blue-500 text-white p-2 rounded",children:"Add Amenity"}),i.amenities&&e.jsx(n,{message:i.amenities,className:"mt-2"})]})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"location",value:"Location"}),e.jsx(r,{id:"location",type:"text",name:"location",value:t.location,className:"mt-1 block w-full",autoComplete:"location",onChange:s=>a("location",s.target.value)}),e.jsx(n,{message:i.location,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"bathrooms",value:"Bathrooms"}),e.jsx(r,{id:"bathrooms",type:"text",name:"bathrooms",value:t.bathrooms,className:"mt-1 block w-full",autoComplete:"bathrooms",onChange:s=>a("bathrooms",s.target.value)}),e.jsx(n,{message:i.bathrooms,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"bedrooms",value:"Bedrooms"}),e.jsx(r,{id:"bedrooms",type:"text",name:"bedrooms",value:t.bedrooms,className:"mt-1 block w-full",autoComplete:"bedrooms",onChange:s=>a("bedrooms",s.target.value)}),e.jsx(n,{message:i.bedrooms,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"price",value:"Price"}),e.jsx(r,{id:"price",type:"text",name:"price",value:t.price,className:"mt-1 block w-full",autoComplete:"price",onChange:s=>a("price",s.target.value)}),e.jsx(n,{message:i.price,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"video_url",value:"Video URL"}),e.jsx(r,{id:"video_url",type:"text",name:"video_url",value:t.video_url,className:"mt-1 block w-full",autoComplete:"video_url",onChange:s=>a("video_url",s.target.value)}),e.jsx(n,{message:i.video_url,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"sold",value:"Sold"}),e.jsx("input",{id:"sold",name:"sold",type:"checkbox",checked:t.sold,onChange:s=>a("sold",s.target.checked),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"images",value:"Images"}),e.jsx(F,{id:"images",name:"images",value:t.images,onChange:b}),e.jsx(n,{message:i.images,className:"mt-2"})]}),e.jsx("div",{className:"inline-block",children:e.jsx(A,{className:"ms-4",disabled:h,children:"Submit"})})]})})})})})]})};export{$ as default};
