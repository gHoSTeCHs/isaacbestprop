import{W as y,j as e,Y as C}from"./app-BghAkaXO.js";import{A as w,B as d}from"./AuthenticatedLayout-eG5NVMt0.js";import{I as m}from"./InputLabel-DuX5Bep1.js";import{T as r}from"./TextInput-CDolgDmu.js";import{I as n}from"./InputError-C6iEW-hG.js";import{T as k}from"./TextArea-C5jbS14n.js";import{P as F}from"./PrimaryButton-fiJj4S_7.js";import{M as A}from"./ImageInput-BN8qAHhh.js";import{S as I}from"./select-CqAE5d3a.js";import"./ApplicationLogo-DnzFK7gt.js";import"./transition-CyeRop-8.js";import"./createLucideIcon-CPr1j46X.js";import"./chevron-down-EXdcqkTv.js";const Y=({property:o,categories:u})=>{const{data:s,setData:a,patch:x,processing:h,errors:i,reset:_}=y({title:o.title,category:o.category||"",description:o.description,amenities:o.amenities||[],location:o.location,bathrooms:o.bathrooms,bedrooms:o.bedrooms,price:o.price,video_url:o.video_url||"",sold:o.sold,images:o.images||[]}),g=u.map(t=>t.title),p=()=>{a("amenities",[...s.amenities,{amenity:""}])},j=t=>{const l=s.amenities.filter((c,N)=>N!==t);a("amenities",l)},v=(t,l)=>{const c=[...s.amenities];c[t]={amenity:l.target.value},a("amenities",c)},b=t=>{a("images",t)},f=async t=>{t.preventDefault();const l=o.id;try{await x(route("admin.properties.update",l),{onSuccess:()=>{d.success("Property Updated")}})}catch{d.error("Something went wrong")}};return e.jsxs(w,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Update Property"}),children:[e.jsx(C,{title:"Dashboard"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg p-4",children:e.jsx("div",{className:"flex flex-col gap-4 container max-w-[600px]",children:e.jsxs("form",{className:"flex flex-col gap-4",onSubmit:f,encType:"multipart/form-data",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"title",value:"Title"}),e.jsx(r,{id:"title",type:"text",name:"title",value:s.title,className:"mt-1 block w-full",autoComplete:"title",isFocused:!0,onChange:t=>a("title",t.target.value)}),e.jsx(n,{message:i.title,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"categoryId",value:"Category"}),e.jsx(I,{id:"Categories",name:"category",onChange:t=>a("category",t),title:"category",values:g}),e.jsx(n,{message:i.category,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"description",value:"Description"}),e.jsx(k,{name:"description",defaultValue:s.description,className:"mt-1 block w-full",autoComplete:"description",onChange:t=>a("description",t.target.value)}),e.jsx(n,{message:i.description,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"amenities",value:"Amenities"}),e.jsxs("div",{className:"flex flex-col gap-2",children:[s.amenities.map((t,l)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx(r,{id:`amenity-${l}`,type:"text",name:`amenities[${l}].amenity`,value:t.amenity,onChange:c=>v(l,c),placeholder:"Enter an amenity",className:"block w-full"}),e.jsx("button",{type:"button",onClick:()=>j(l),className:"bg-red-500 text-white p-2 rounded",children:"Remove"})]},l)),e.jsx("button",{type:"button",onClick:p,className:"mt-2 bg-blue-500 text-white p-2 rounded",children:"Add Amenity"}),i.amenities&&e.jsx(n,{message:i.amenities,className:"mt-2"})]})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"location",value:"Location"}),e.jsx(r,{id:"location",type:"text",name:"location",value:s.location,className:"mt-1 block w-full",autoComplete:"location",onChange:t=>a("location",t.target.value)}),e.jsx(n,{message:i.location,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"bathrooms",value:"Bathrooms"}),e.jsx(r,{id:"bathrooms",type:"text",name:"bathrooms",value:s.bathrooms,className:"mt-1 block w-full",autoComplete:"bathrooms",onChange:t=>a("bathrooms",t.target.value)}),e.jsx(n,{message:i.bathrooms,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"bedrooms",value:"Bedrooms"}),e.jsx(r,{id:"bedrooms",type:"text",name:"bedrooms",value:s.bedrooms,className:"mt-1 block w-full",autoComplete:"bedrooms",onChange:t=>a("bedrooms",t.target.value)}),e.jsx(n,{message:i.bedrooms,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"price",value:"Price"}),e.jsx(r,{id:"price",type:"text",name:"price",value:s.price,className:"mt-1 block w-full",autoComplete:"price",onChange:t=>a("price",t.target.value)}),e.jsx(n,{message:i.price,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"video_url",value:"Video URL"}),e.jsx(r,{id:"video_url",type:"text",name:"video_url",value:s.video_url,className:"mt-1 block w-full",autoComplete:"video_url",onChange:t=>a("video_url",t.target.value)}),e.jsx(n,{message:i.video_url,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"sold",value:"Sold"}),e.jsx("input",{id:"sold",name:"sold",type:"checkbox",checked:s.sold,onChange:t=>a("sold",t.target.checked),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"images",value:"Images"}),e.jsx(A,{id:"images",name:"images",value:s.images,onChange:b}),e.jsx(n,{message:i.images,className:"mt-2"})]}),e.jsx("div",{className:"inline-block",children:e.jsx(F,{className:"ms-4",disabled:h,children:"Submit"})})]})})})})})]})};export{Y as default};
